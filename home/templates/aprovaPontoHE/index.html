{% extends 'base.html' %}
{% load static %}
  
{% block css %}
  <link rel="stylesheet" href="{% static 'css/style_aprovaPonto.css' %}">
{% endblock  %}

{% block titulo %}Aprova Ponto Extra{% endblock  %}

{% block main %}

 
{% comment %} Icone de Loading {% endcomment %}

{% comment %} <div class="modal fade" id="loading" aria-hidden="true">
  <div style="
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;">

 <?xml version="1.0" encoding="utf-8"?>
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="197px" height="197px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
 <circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="22" r="37" stroke-dasharray="174.35839227423352 60.119464091411174">
   <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1.075268817204301s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
 </circle>
 <!-- [ldio] generated by https://loading.io/ --></svg>
  </div>  
</div> {% endcomment %}


  <!-- Navbar -->
  <div class="accordion marginTop56" id="filtros">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Filtros
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#filtros">
        <div>
          <nav class="navbar">
            <form action="{% url 'aprovaPontoHE' %}" class="d-flex flex-column gap-3 p-2 w-100" method="GET">
              <div id="select" class="d-flex w-100 gap-5 md-width">
                <div class="d-flex flex-column gap-3  w-50 tamanho_w_100">
                  <div>
                    <label>Nome</label>
                    <input name="nome" type="text" class="form-control">
                  </div>
                  <div>
                    <label>Matricula</label>
                    <input name="matricula" type="number" class="form-control">
                  </div>
                </div>
                <div class="d-flex flex-column gap-3 w-50 tamanho_w_100">
                  <div id="status">
                    <label for="" class="status">Status</label>
                    <select name="status" class="form-select" aria-label=".form-select-sm">
                      <option value="todos">Todos</option>
                      <option value="APR">Aprovados</option>
                      <option value="REJ">Rejeitados</option>
                      <option selected value="PEN">Pendentes</option>
                    </select>
                  </div>
                  <div id="justificativa" class="">
                    <label>Justificativa </label>
                    <select name="justificativa" class="form-select" aria-label=".form-select-sm">
                      <option selected value="todas">Todas</option>
                      <option value="sim">Sim</option>
                      <option value="nao">Não</option>
                    </select>
                  </div>
                </div>
                <div class="d-flex flex-column gap-3 w-50 tamanho_w_100">
                  <div id="calendario" class="">
                    <label>Data</label>
                    <input name="data" type="date" class="form-control">
                  </div>
                  <div id="justificativa" class="">
                    <label>Escalas </label>
                    <select name="escala" class="form-select" aria-label=".form-select-sm">
                      <option selected value="todas">Todas</option>
                      {% for escala in escalas %}
                      <option value="{{escala.id}}">{{escala.nmEscala}}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
                <button name="filtrar" type="submit" class="btn w-25 btn-outline-light" onclick="carregamento()" >Buscar</button>
            </form>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <!-- Container -->
  <div id="container" class="container">
    <h4>Aprovação Hora Extra</h4>
    <br>
    {% comment %} <form action="" class="form-filtro ">
      <div class="filtro-registro">
        <div class="input-group mb-3">
          <span class="input-group-text">Mostrar</span>
          <select name="numReg_Page" class="filtro form-control form-select" aria-label="">
            <option selected value="1">10</option>
            <option value="2">15</option>
          </select>
        </div>
      </div> 
      <div id="pesquisar" class="px-16 mb-2">
        <input type="text" id="myInput" onkeyup="myFunction()" class="pesquisar form-control"
          placeholder="Pesquisar nome">
      </div>
    </form> {% endcomment %}

    <!-- Content -->
    <div class="content overflow-auto p-4 rounded" >
      <div id="tabelaApr">
        <!-- Tabela para a Aprovação -->
        {% include 'parciais/tabela_aprovacao_HE.html' %}
      </div>
    </div>
  </div>
  <nav id="navigation" aria-label="Page navigation" class="mt-2 d-flex justify-content-center">
    <ul class="pagination">
      {% if histReg.has_previous %}
      <li class="page-item"><a class="page-link" href="?nome={{ request.GET.nome }}&matricula={{ request.GET.matricula }}&status={{ request.GET.status }}&justificativa={{ request.GET.justificativa }}&data={{ request.GET.data }}&escala={{ request.GET.escala }}&page={{histReg.previous_page_number}}">Anterior</a></li>
      {% endif %}
      <li class="page-item page-link">{{histReg.number}} de {{histReg.paginator.num_pages}}</li>
      {% if histReg.has_next %}
      <li class="page-item"><a class="page-link" href="?nome={{ request.GET.nome }}&matricula={{ request.GET.matricula }}&status={{ request.GET.status }}&justificativa={{ request.GET.justificativa }}&data={{ request.GET.data }}&escala={{ request.GET.escala }}&page={{histReg.next_page_number}}">Próximo</a></li>
      {% endif %}
    </ul>
  </nav>
{% endblock  %}

{% block js %}
  <script src="{% static 'js/script_pesquisa_historico.js' %}"></script> 
  <script src="{% static 'js/script_remove_div.js' %}"></script> 
{% endblock  %}